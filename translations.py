import json
import os
import streamlit as st

# Translation dictionaries for static text
translations = {
    "en": {
        "title": "Semantic Search Engine for Cryptocurrencies",
        "subtitle": "### Ontology OWL + DBpedia - Semantic Web",
        "config": "Configuration",
        "connected": "Connected to DBpedia",
        "offline": "Offline Mode (No connection)",
        "no_owl_files": "No OWL files found in 'archivos_OWL' folder",
        "solution": "**Solution:**",
        "solution1": "1. Create a folder called `archivos_OWL` in the project directory",
        "solution2": "2. Place your .owl files in that folder",
        "solution3": "3. Reload the application",
        "error_loading": "Error loading:",
        "loading_error": "### Ontology could not be loaded",
        "error": "**Error:**",
        "solutions": "**Solutions:**",
        "solution1_load": "1. Verify that the file `{file}` is a valid OWL",
        "solution2_load": "2. Make sure it was exported correctly from Protégé",
        "solution3_load": "3. Try with another file",
        "loaded": "Ontology loaded successfully",
        "statistics": "### Statistics",
        "classes": "Classes",
        "properties": "Properties",
        "individuals": "Individuals",
        "reload": "Reload Ontology",
        "select_owl": "Select OWL file:",
        "owl_help": "Available OWL files in archivos_OWL folder",
        "search_mode": "Search mode:",
        "local": "Local (Ontology)",
        "dbpedia": "DBpedia",
        "hybrid": "Hybrid (Local + DBpedia)",
        "mode_help": "Select the data source for the search",
        "help": "### Help",
        "help_text": "**Search types:**\n- **By name:** Search for individuals containing the term\n- **By class:** List all individuals of a specific class\n- **Explore:** Navigate the entire ontology\n\n**Search modes:**\n- **Local:** Search only in the loaded ontology\n- **DBpedia:** Search only in DBpedia (filtered for cryptocurrencies)\n- **Hybrid:** Combine local and DBpedia results",
        "search_type": "Select search type:",
        "by_name": "Search by name",
        "by_class": "Search by class",
        "explore": "Explore ontology",
        "search_subheader": "Search by name",
        "enter_term": "Enter search term:",
        "placeholder": "Example: bitcoin, exchange, blockchain...",
        "search": "Search",
        "searching": "Searching...",
        "results_for": "Found **{count}** results for '{term}':",
        "local_results": "### Local Ontology Results",
        "type": "**Type:**",
        "properties": "**Properties:**",
        "no_properties": "No additional properties defined",
        "dbpedia_results": "### DBpedia Results",
        "description": "**Description:**",
        "dbpedia_uri": "**DBpedia URI:**",
        "no_results": "No results found for '{term}'",
        "try_other": "Try another term or explore the ontology to see what's available",
        "try_crypto": "Try terms related to cryptocurrencies, blockchain or finance",
        "try_both": "Try another term in both data sources",
        "class_subheader": "Search by class",
        "select_class": "Select a class:",
        "list_instances": "List instances",
        "listing": "Searching instances of {class}...",
        "found_instances": "Found **{count}** instances of class '{class}':",
        "no_classes": "No classes found in local ontology",
        "try_local": "st.stop()",
        "no_instances": "No instances defined for class '{class}'",
        "no_instances_text": "**This may mean:**\n- The class exists but has no individuals yet\n- You need to populate your ontology with more data",
        "select_type": "Select a type in DBpedia:",
        "search_dbpedia": "Search in DBpedia",
        "searching_type": "Searching entities of type '{type}' in DBpedia...",
        "found_type": "Found **{count}** entities of type '{type}' in DBpedia:",
        "explore_subheader": "Explore data",
        "classes_tab": "### Available classes in ontology",
        "properties_tab": "### Defined properties",
        "data_props": "#### Data Properties",
        "object_props": "#### Object Properties",
        "no_data_props": "No data properties defined",
        "no_object_props": "No object properties defined",
        "individuals_tab": "### All individuals",
        "total_individuals": "Total individuals: {count}",
        "filter": "Filter individuals:",
        "filter_placeholder": "Type to filter...",
        "no_filter": "No individuals found with that filter",
        "no_individuals": "No individuals in ontology",
        "populate": "### What to do?\n\nYour ontology has classes but no instances (individuals). To populate it:\n\n1. **Option 1:** Add individuals manually in Protégé\n2. **Option 2:** Use scripts to generate instances automatically",
        "explore_dbpedia": "### Explore DBpedia - Entities related to cryptocurrencies",
        "cryptocurrency": "Cryptocurrencies",
        "blockchain": "Blockchain Technology",
        "digital_currency": "Digital Currencies",
        "exchange": "Cryptocurrency Exchanges",
        "explore_button": "Explore {name}",
        "no_entities": "No entities found of type {name}",
        "footer": "<div style='text-align: center; color: gray; padding: 2rem;'><p>Semantic Web Project - Semantic Search Engine for Cryptocurrencies</p><p>Developed with Streamlit, Owlready2 and DBpedia</p></div>",
        "language": "Language",
        "select_language": "Select Language",
        "no_description": "No description available"
    },
    "es": {
        "title": "Buscador Semántico de Criptomonedas",
        "subtitle": "### Ontología OWL + DBpedia - Web Semántica",
        "config": "Configuración",
        "connected": "Conectado a DBpedia",
        "offline": "Modo Offline (Sin conexión)",
        "no_owl_files": "No se encontraron archivos OWL en la carpeta 'archivos_OWL'",
        "solution": "**Solución:**",
        "solution1": "1. Crea una carpeta llamada `archivos_OWL` en el directorio del proyecto",
        "solution2": "2. Coloca tus archivos .owl en esa carpeta",
        "solution3": "3. Recarga la aplicación",
        "error_loading": "Error al cargar:",
        "loading_error": "### No se pudo cargar la ontología",
        "error": "**Error:**",
        "solutions": "**Soluciones:**",
        "solution1_load": "1. Verifica que el archivo `{file}` sea un OWL válido",
        "solution2_load": "2. Asegúrate de que fue exportado correctamente desde Protégé",
        "solution3_load": "3. Intenta con otro archivo",
        "loaded": "Ontología cargada correctamente",
        "statistics": "### Estadísticas",
        "classes": "Clases",
        "properties": "Propiedades",
        "individuals": "Individuos",
        "reload": "Recargar Ontología",
        "select_owl": "Selecciona archivo OWL:",
        "owl_help": "Archivos OWL disponibles en la carpeta archivos_OWL",
        "search_mode": "Modo de búsqueda:",
        "local": "Local (Ontología)",
        "dbpedia": "DBpedia",
        "hybrid": "Híbrido (Local + DBpedia)",
        "mode_help": "Selecciona el origen de los datos para la búsqueda",
        "help": "### Ayuda",
        "help_text": "**Tipos de búsqueda:**\n- **Por nombre:** Busca individuos que contengan el término\n- **Por clase:** Lista todos los individuos de una clase específica\n- **Explorar:** Navega por toda la ontología\n\n**Modos de búsqueda:**\n- **Local:** Solo busca en la ontología cargada\n- **DBpedia:** Solo busca en DBpedia (filtrado para criptomonedas)\n- **Híbrido:** Combina resultados locales y de DBpedia",
        "search_type": "Selecciona el tipo de búsqueda:",
        "by_name": "Búsqueda por nombre",
        "by_class": "Búsqueda por clase",
        "explore": "Explorar ontología",
        "search_subheader": "Búsqueda por nombre",
        "enter_term": "Ingrese el término de búsqueda:",
        "placeholder": "Ejemplo: bitcoin, exchange, blockchain...",
        "search": "Buscar",
        "searching": "Buscando...",
        "results_for": "Se encontraron **{count}** resultados para '{term}':",
        "local_results": "### Resultados de la Ontología Local",
        "type": "**Tipo:**",
        "properties": "**Propiedades:**",
        "no_properties": "No hay propiedades adicionales definidas",
        "dbpedia_results": "### Resultados de DBpedia",
        "description": "**Descripción:**",
        "dbpedia_uri": "**DBpedia URI:**",
        "no_results": "No se encontraron resultados para '{term}'",
        "try_other": "Intenta con otro término o explora la ontología para ver qué hay disponible",
        "try_crypto": "Intenta con términos relacionados con criptomonedas, blockchain o finanzas",
        "try_both": "Intenta con otro término en ambos orígenes de datos",
        "class_subheader": "Búsqueda por clase",
        "select_class": "Seleccione una clase:",
        "list_instances": "Listar instancias",
        "listing": "Buscando instancias de {class}...",
        "found_instances": "Se encontraron **{count}** instancias de la clase '{class}':",
        "no_classes": "No se encontraron clases en la ontología local",
        "try_local": "st.stop()",
        "no_instances": "No hay instancias definidas para la clase '{class}'",
        "no_instances_text": "**Esto puede significar:**\n- La clase existe pero aún no tiene individuos\n- Necesitas poblar tu ontología con más datos",
        "select_type": "Seleccione un tipo en DBpedia:",
        "search_dbpedia": "Buscar en DBpedia",
        "searching_type": "Buscando entidades de tipo '{type}' en DBpedia...",
        "found_type": "Se encontraron **{count}** entidades de tipo '{type}' en DBpedia:",
        "explore_subheader": "Explorar datos",
        "classes_tab": "### Clases disponibles en la ontología",
        "properties_tab": "### Propiedades definidas",
        "data_props": "#### Propiedades de Datos",
        "object_props": "#### Propiedades de Objeto",
        "no_data_props": "No hay data properties definidas",
        "no_object_props": "No hay object properties definidas",
        "individuals_tab": "### Todos los individuos",
        "total_individuals": "Total de individuos: {count}",
        "filter": "Filtrar individuos:",
        "filter_placeholder": "Escribe para filtrar...",
        "no_filter": "No se encontraron individuos con ese filtro",
        "no_individuals": "No hay individuos en la ontología",
        "populate": "### ¿Qué hacer?\n\nTu ontología tiene clases pero no tiene instancias (individuos). Para poblarla:\n\n1. **Opción 1:** Agregar individuos manualmente en Protégé\n2. **Opción 2:** Usar scripts para generar instancias automáticamente",
        "explore_dbpedia": "### Explorar DBpedia - Entidades relacionadas con criptomonedas",
        "cryptocurrency": "Criptomonedas",
        "blockchain": "Tecnología Blockchain",
        "digital_currency": "Monedas digitales",
        "exchange": "Exchanges de Criptomonedas",
        "explore_button": "Explorar {name}",
        "no_entities": "No se encontraron entidades de tipo {name}",
        "footer": "<div style='text-align: center; color: gray; padding: 2rem;'><p>Proyecto de Web Semántica - Buscador Semántico de Criptomonedas</p><p>Desarrollado con Streamlit, Owlready2 y DBpedia</p></div>",
        "language": "Idioma",
        "select_language": "Seleccionar Idioma",
        "no_description": "No hay descripción disponible"
    },
    "ru": {
        "title": "Семантический поисковик криптовалют",
        "subtitle": "### Онтология OWL + DBpedia - Семантическая паутина",
        "config": "Конфигурация",
        "connected": "Подключено к DBpedia",
        "offline": "Автономный режим (нет подключения)",
        "no_owl_files": "OWL файлы не найдены в папке 'archivos_OWL'",
        "solution": "**Решение:**",
        "solution1": "1. Создайте папку с именем `archivos_OWL` в директории проекта",
        "solution2": "2. Поместите ваши .owl файлы в эту папку",
        "solution3": "3. Перезагрузите приложение",
        "error_loading": "Ошибка загрузки:",
        "loading_error": "### Не удалось загрузить онтологию",
        "error": "**Ошибка:**",
        "solutions": "**Решения:**",
        "solution1_load": "1. Проверьте, что файл `{file}` является допустимым OWL",
        "solution2_load": "2. Убедитесь, что он был правильно экспортирован из Protégé",
        "solution3_load": "3. Попробуйте другой файл",
        "loaded": "Онтология загружена успешно",
        "statistics": "### Статистика",
        "classes": "Классы",
        "properties": "Свойства",
        "individuals": "Индивиды",
        "reload": "Перезагрузить онтологию",
        "select_owl": "Выберите OWL файл:",
        "owl_help": "Доступные OWL файлы в папке archivos_OWL",
        "search_mode": "Режим поиска:",
        "local": "Локальный (Онтология)",
        "dbpedia": "DBpedia",
        "hybrid": "Гибридный (Локальный + DBpedia)",
        "mode_help": "Выберите источник данных для поиска",
        "help": "### Помощь",
        "help_text": "**Типы поиска:**\n- **По имени:** Поиск индивидов, содержащих термин\n- **По классу:** Список всех индивидов конкретного класса\n- **Исследовать:** Навигация по всей онтологии\n\n**Режимы поиска:**\n- **Локальный:** Поиск только в загруженной онтологии\n- **DBpedia:** Поиск только в DBpedia (фильтр для криптовалют)\n- **Гибридный:** Комбинирование локальных и DBpedia результатов",
        "search_type": "Выберите тип поиска:",
        "by_name": "Поиск по имени",
        "by_class": "Поиск по классу",
        "explore": "Исследовать онтологию",
        "search_subheader": "Поиск по имени",
        "enter_term": "Введите поисковый термин:",
        "placeholder": "Пример: bitcoin, exchange, blockchain...",
        "search": "Искать",
        "searching": "Поиск...",
        "results_for": "Найдено **{count}** результатов для '{term}':",
        "local_results": "### Результаты локальной онтологии",
        "type": "**Тип:**",
        "properties": "**Свойства:**",
        "no_properties": "Дополнительные свойства не определены",
        "dbpedia_results": "### Результаты DBpedia",
        "description": "**Описание:**",
        "dbpedia_uri": "**DBpedia URI:**",
        "no_results": "Результаты для '{term}' не найдены",
        "try_other": "Попробуйте другой термин или исследуйте онтологию, чтобы увидеть доступное",
        "try_crypto": "Попробуйте термины, связанные с криптовалютами, блокчейном или финансами",
        "try_both": "Попробуйте другой термин в обоих источниках данных",
        "class_subheader": "Поиск по классу",
        "select_class": "Выберите класс:",
        "list_instances": "Список экземпляров",
        "listing": "Поиск экземпляров {class}...",
        "found_instances": "Найдено **{count}** экземпляров класса '{class}':",
        "no_classes": "Классы в локальной онтологии не найдены",
        "try_local": "st.stop()",
        "no_instances": "Экземпляры для класса '{class}' не определены",
        "no_instances_text": "**Это может означать:**\n- Класс существует, но еще нет индивидов\n- Вам нужно заполнить онтологию дополнительными данными",
        "select_type": "Выберите тип в DBpedia:",
        "search_dbpedia": "Искать в DBpedia",
        "searching_type": "Поиск сущностей типа '{type}' в DBpedia...",
        "found_type": "Найдено **{count}** сущностей типа '{type}' в DBpedia:",
        "explore_subheader": "Исследовать данные",
        "classes_tab": "### Доступные классы в онтологии",
        "properties_tab": "### Определенные свойства",
        "data_props": "#### Свойства данных",
        "object_props": "#### Свойства объектов",
        "no_data_props": "Свойства данных не определены",
        "no_object_props": "Свойства объектов не определены",
        "individuals_tab": "### Все индивиды",
        "total_individuals": "Всего индивидов: {count}",
        "filter": "Фильтровать индивидов:",
        "filter_placeholder": "Введите для фильтрации...",
        "no_filter": "Индивиды с таким фильтром не найдены",
        "no_individuals": "Индивиды в онтологии отсутствуют",
        "populate": "### Что делать?\n\nВаша онтология имеет классы, но не имеет экземпляров (индивидов). Для заполнения:\n\n1. **Вариант 1:** Добавить индивидов вручную в Protégé\n2. **Вариант 2:** Использовать скрипты для автоматической генерации экземпляров",
        "explore_dbpedia": "### Исследовать DBpedia - Сущности, связанные с криптовалютами",
        "cryptocurrency": "Криптовалюты",
        "blockchain": "Технология блокчейн",
        "digital_currency": "Цифровые валюты",
        "exchange": "Биржи криптовалют",
        "explore_button": "Исследовать {name}",
        "no_entities": "Сущности типа {name} не найдены",
        "footer": "<div style='text-align: center; color: gray; padding: 2rem;'><p>Проект семантической паутины - Семантический поисковик криптовалют</p><p>Разработано с Streamlit, Owlready2 и DBpedia</p></div>",
        "language": "Язык",
        "select_language": "Выбрать язык",
        "no_description": "Описание недоступно"
    },
    "pt": {
        "title": "Motor de Busca Semântico de Criptomoedas",
        "subtitle": "### Ontologia OWL + DBpedia - Web Semântica",
        "config": "Configuração",
        "connected": "Conectado ao DBpedia",
        "offline": "Modo Offline (sem conexão)",
        "no_owl_files": "Nenhum arquivo OWL encontrado na pasta 'archivos_OWL'",
        "solution": "**Solução:**",
        "solution1": "1. Crie uma pasta chamada `archivos_OWL` no diretório do projeto",
        "solution2": "2. Coloque seus arquivos .owl nessa pasta",
        "solution3": "3. Recarregue a aplicação",
        "error_loading": "Erro ao carregar:",
        "loading_error": "### Não foi possível carregar a ontologia",
        "error": "**Erro:**",
        "solutions": "**Soluções:**",
        "solution1_load": "1. Verifique se o arquivo `{file}` é um OWL válido",
        "solution2_load": "2. Certifique-se de que foi exportado corretamente do Protégé",
        "solution3_load": "3. Tente com outro arquivo",
        "loaded": "Ontologia carregada com sucesso",
        "statistics": "### Estatísticas",
        "classes": "Classes",
        "properties": "Propriedades",
        "individuals": "Indivíduos",
        "reload": "Recarregar Ontologia",
        "select_owl": "Selecione arquivo OWL:",
        "owl_help": "Arquivos OWL disponíveis na pasta archivos_OWL",
        "search_mode": "Modo de busca:",
        "local": "Local (Ontologia)",
        "dbpedia": "DBpedia",
        "hybrid": "Híbrido (Local + DBpedia)",
        "mode_help": "Selecione a origem dos dados para a busca",
        "help": "### Ajuda",
        "help_text": "**Tipos de busca:**\n- **Por nome:** Busca indivíduos que contenham o termo\n- **Por classe:** Lista todos os indivíduos de uma classe específica\n- **Explorar:** Navega por toda a ontologia\n\n**Modos de busca:**\n- **Local:** Busca apenas na ontologia carregada\n- **DBpedia:** Busca apenas no DBpedia (filtrado para criptomoedas)\n- **Híbrido:** Combina resultados locais e do DBpedia",
        "search_type": "Selecione o tipo de busca:",
        "by_name": "Busca por nome",
        "by_class": "Busca por classe",
        "explore": "Explorar ontologia",
        "search_subheader": "Busca por nome",
        "enter_term": "Digite o termo de busca:",
        "placeholder": "Exemplo: bitcoin, exchange, blockchain...",
        "search": "Buscar",
        "searching": "Buscando...",
        "results_for": "Encontrados **{count}** resultados para '{term}':",
        "local_results": "### Resultados da Ontologia Local",
        "type": "**Tipo:**",
        "properties": "**Propriedades:**",
        "no_properties": "Nenhuma propriedade adicional definida",
        "dbpedia_results": "### Resultados do DBpedia",
        "description": "**Descrição:**",
        "dbpedia_uri": "**DBpedia URI:**",
        "no_results": "Nenhum resultado encontrado para '{term}'",
        "try_other": "Tente outro termo ou explore a ontologia para ver o que está disponível",
        "try_crypto": "Tente termos relacionados a criptomoedas, blockchain ou finanças",
        "try_both": "Tente outro termo em ambas as fontes de dados",
        "class_subheader": "Busca por classe",
        "select_class": "Selecione uma classe:",
        "list_instances": "Listar instâncias",
        "listing": "Buscando instâncias de {class}...",
        "found_instances": "Encontradas **{count}** instâncias da classe '{class}':",
        "no_classes": "Nenhuma classe encontrada na ontologia local",
        "try_local": "st.stop()",
        "no_instances": "Nenhuma instância definida para a classe '{class}'",
        "no_instances_text": "**Isso pode significar:**\n- A classe existe mas ainda não tem indivíduos\n- Você precisa popular sua ontologia com mais dados",
        "select_type": "Selecione um tipo no DBpedia:",
        "search_dbpedia": "Buscar no DBpedia",
        "searching_type": "Buscando entidades do tipo '{type}' no DBpedia...",
        "found_type": "Encontradas **{count}** entidades do tipo '{type}' no DBpedia:",
        "explore_subheader": "Explorar dados",
        "classes_tab": "### Classes disponíveis na ontologia",
        "properties_tab": "### Propriedades definidas",
        "data_props": "#### Propriedades de Dados",
        "object_props": "#### Propriedades de Objeto",
        "no_data_props": "Nenhuma propriedade de dados definida",
        "no_object_props": "Nenhuma propriedade de objeto definida",
        "individuals_tab": "### Todos os indivíduos",
        "total_individuals": "Total de indivíduos: {count}",
        "filter": "Filtrar indivíduos:",
        "filter_placeholder": "Digite para filtrar...",
        "no_filter": "Nenhum indivíduo encontrado com esse filtro",
        "no_individuals": "Não há indivíduos na ontologia",
        "populate": "### O que fazer?\n\nSua ontologia tem classes mas não tem instâncias (indivíduos). Para populá-la:\n\n1. **Opção 1:** Adicionar indivíduos manualmente no Protégé\n2. **Opção 2:** Usar scripts para gerar instâncias automaticamente",
        "explore_dbpedia": "### Explorar DBpedia - Entidades relacionadas a criptomoedas",
        "cryptocurrency": "Criptomoedas",
        "blockchain": "Tecnologia Blockchain",
        "digital_currency": "Moedas Digitais",
        "exchange": "Exchanges de Criptomoedas",
        "explore_button": "Explorar {name}",
        "no_entities": "Nenhuma entidade do tipo {name} encontrada",
        "footer": "<div style='text-align: center; color: gray; padding: 2rem;'><p>Projeto de Web Semântica - Motor de Busca Semântico de Criptomoedas</p><p>Desenvolvido com Streamlit, Owlready2 e DBpedia</p></div>",
        "language": "Idioma",
        "select_language": "Selecionar Idioma",
        "no_description": "Nenhuma descrição disponível"
    },
    "ja": {
        "title": "暗号通貨セマンティック検索エンジン",
        "subtitle": "### OWLオントロジー + DBpedia - セマンティックウェブ",
        "config": "設定",
        "connected": "DBpediaに接続",
        "offline": "オフラインモード (接続なし)",
        "no_owl_files": "'archivos_OWL'フォルダにOWLファイルが見つかりません",
        "solution": "**解決策:**",
        "solution1": "1. プロジェクトディレクトリに`archivos_OWL`というフォルダを作成",
        "solution2": "2. そのフォルダに.owlファイルを置く",
        "solution3": "3. アプリケーションをリロード",
        "error_loading": "読み込みエラー:",
        "loading_error": "### オントロジーを読み込めませんでした",
        "error": "**エラー:**",
        "solutions": "**解決策:**",
        "solution1_load": "1. ファイル`{file}`が有効なOWLであることを確認",
        "solution2_load": "2. Protégéから正しくエクスポートされたことを確認",
        "solution3_load": "3. 別のファイルを試す",
        "loaded": "オントロジーが正常に読み込まれました",
        "statistics": "### 統計",
        "classes": "クラス",
        "properties": "プロパティ",
        "individuals": "個人",
        "reload": "オントロジーをリロード",
        "select_owl": "OWLファイルを選択:",
        "owl_help": "archivos_OWLフォルダで利用可能なOWLファイル",
        "search_mode": "検索モード:",
        "local": "ローカル (オントロジー)",
        "dbpedia": "DBpedia",
        "hybrid": "ハイブリッド (ローカル + DBpedia)",
        "mode_help": "検索のデータソースを選択",
        "help": "### ヘルプ",
        "help_text": "**検索タイプ:**\n- **名前で:** タームを含む個人を検索\n- **クラスで:** 特定のクラスのすべての個人をリスト\n- **探索:** 全体のオントロジーをナビゲート\n\n**検索モード:**\n- **ローカル:** 読み込まれたオントロジーのみ検索\n- **DBpedia:** DBpediaのみ検索 (暗号通貨用フィルタ)\n- **ハイブリッド:** ローカルとDBpediaの結果を組み合わせ",
        "search_type": "検索タイプを選択:",
        "by_name": "名前で検索",
        "by_class": "クラスで検索",
        "explore": "オントロジーを探索",
        "search_subheader": "名前で検索",
        "enter_term": "検索タームを入力:",
        "placeholder": "例: bitcoin, exchange, blockchain...",
        "search": "検索",
        "searching": "検索中...",
        "results_for": "'{term}'の**{count}**件の結果が見つかりました:",
        "local_results": "### ローカルオントロジーの結果",
        "type": "**タイプ:**",
        "properties": "**プロパティ:**",
        "no_properties": "追加のプロパティが定義されていません",
        "dbpedia_results": "### DBpediaの結果",
        "description": "**説明:**",
        "dbpedia_uri": "**DBpedia URI:**",
        "no_results": "'{term}'の結果が見つかりません",
        "try_other": "別のタームを試すか、オントロジーを探索して利用可能なものを確認",
        "try_crypto": "暗号通貨、ブロックチェーン、または金融に関連するタームを試す",
        "try_both": "両方のデータソースで別のタームを試す",
        "class_subheader": "クラスで検索",
        "select_class": "クラスを選択:",
        "list_instances": "インスタンスをリスト",
        "listing": "{class}のインスタンスを検索中...",
        "found_instances": "クラス'{class}'の**{count}**件のインスタンスが見つかりました:",
        "no_classes": "ローカルオントロジーにクラスが見つかりません",
        "try_local": "st.stop()",
        "no_instances": "クラス'{class}'に定義されたインスタンスがありません",
        "no_instances_text": "**これは次のことを意味する可能性があります:**\n- クラスは存在しますが、まだ個人を持っていません\n- オントロジーにデータを追加する必要があります",
        "select_type": "DBpediaでタイプを選択:",
        "search_dbpedia": "DBpediaで検索",
        "searching_type": "DBpediaで'{type}'タイプのエンティティを検索中...",
        "found_type": "DBpediaで'{type}'タイプの**{count}**件のエンティティが見つかりました:",
        "explore_subheader": "データを探索",
        "classes_tab": "### オントロジーで利用可能なクラス",
        "properties_tab": "### 定義されたプロパティ",
        "data_props": "#### データプロパティ",
        "object_props": "#### オブジェクトプロパティ",
        "no_data_props": "データプロパティが定義されていません",
        "no_object_props": "オブジェクトプロパティが定義されていません",
        "individuals_tab": "### すべての個人",
        "total_individuals": "総個人数: {count}",
        "filter": "個人をフィルタ:",
        "filter_placeholder": "フィルタリングするには入力...",
        "no_filter": "そのフィルタの個人が見つかりません",
        "no_individuals": "オントロジーに個人がいません",
        "populate": "### どうする？\n\nオントロジーにはクラスがありますが、インスタンス (個人) がありません。データを追加するには:\n\n1. **オプション1:** Protégéで個人を手動で追加\n2. **オプション2:** スクリプトを使用してインスタンスを自動生成",
        "explore_dbpedia": "### DBpediaを探索 - 暗号通貨に関連するエンティティ",
        "cryptocurrency": "暗号通貨",
        "blockchain": "ブロックチェーン技術",
        "digital_currency": "デジタル通貨",
        "exchange": "暗号通貨取引所",
        "explore_button": "{name}を探索",
        "no_entities": "{name}タイプのエンティティが見つかりません",
        "footer": "<div style='text-align: center; color: gray; padding: 2rem;'><p>セマンティックウェブプロジェクト - 暗号通貨セマンティック検索エンジン</p><p>Streamlit、Owlready2、DBpediaで開発</p></div>",
        "language": "言語",
        "select_language": "言語を選択",
        "no_description": "説明は利用できません"
    }
}

def get_translation(key, lang="en", **kwargs):
    """Get translation for a key in the specified language"""
    if lang not in translations:
        lang = "en"
    text = translations[lang].get(key, translations["en"].get(key, key))
    if kwargs:
        text = text.format(**kwargs)
    return text

def get_current_language():
    """Get current language from session state"""
    return st.session_state.get('language', 'es')

def set_language(lang):
    """Set current language in session state"""
    st.session_state['language'] = lang

# Language options
LANGUAGES = {
    "en": "English",
    "es": "Español",
    "ru": "Русский",
    "pt": "Português",
    "ja": "日本語"
}